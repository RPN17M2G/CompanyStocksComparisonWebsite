import{g as c,m as f}from"./index-D_uXq075.js";async function m(s,a,n="merge"){if(a.length===0)throw new Error("No API providers specified");const l=a.map(async({provider:e,apiKey:o})=>{const r=c(e);if(!r)return console.warn(`Adapter not found for provider: ${e}`),null;try{return await r.fetchCompanyData(s,o)}catch(i){return console.warn(`Failed to fetch from ${e}:`,i),null}}),t=(await Promise.all(l)).filter(e=>e!==null);if(t.length===0)throw new Error("All API providers failed to fetch data");switch(n){case"first":return t[0];case"priority":return t[0];case"merge":default:return f(t.map((e,o)=>{var r;return{data:e,prefix:(r=a[o])==null?void 0:r.provider.toLowerCase().replace(/\s+/g,"_"),excludeFields:[]}}))}}export{m as fetchFromMultipleApis};
