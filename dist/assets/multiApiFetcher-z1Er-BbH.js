import{g as i,m as f}from"./index-CxXP2gN5.js";async function m(s,t,n="merge"){if(t.length===0)throw new Error("No API providers specified");const l=t.map(async({provider:e,apiKey:o})=>{const r=i(e);if(!r)return console.warn(`Adapter not found for provider: ${e}`),null;try{return await r.fetchCompanyData(s,o)}catch(c){return console.warn(`Failed to fetch from ${e}:`,c),null}}),a=(await Promise.all(l)).filter(e=>e!==null);if(a.length===0)throw new Error("All API providers failed to fetch data");switch(n){case"first":return a[0];case"merge":default:return f(a.map((e,o)=>{var r;return{data:e,prefix:(r=t[o])==null?void 0:r.provider.toLowerCase().replace(/\s+/g,"_"),excludeFields:[]}}))}}export{m as fetchFromMultipleApis};
